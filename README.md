# Шпаргалка по Git и основам коммандной строки

Git — это программа, такая же, как Zoom, MS Office или Photoshop, а значит, она требует установки и предварительной настройки. Но, в отличие от перечисленных программ, у Git нет привычного графического интерфейса, и работа с этим инструментом происходит иначе.

## Что такое Git

**Git** это одна из множества систем котроля версий VCS (англ. **V**ersion **C**ontrol **S**ystem, или коротко **VCS**) помогающее отслеживать изменения в программах, текстовых файлах, больших документах, веб-сайтах и так далее. 

Программисты используют Git для за счет сздания **ревизий** или подругому **версионирования** кода на различных этапах разработки продукта.

Так же Git используется для комндной разработки - помогает объединять результаты работы нескольких человек.


## Командная строка (основные комманды)

У программ есть привычный графический интерфейс (англ. **G**raphical **U**ser **I**nterface, или **GUI**). Это окна, значки, кнопки, выпадающее меню с настройками и прочие элементы.

**Командная строка** (англ. **C**ommand-line **I**nterface, или **CLI**) — тоже интерфейс, только текстовый. Пользователь вводит в неё команды. Она принимает их от пользователя и 
выполняет. Эта строка — обычная программа на вашем компьютере.

Консольных команд существует великое множество, запоминать всех их не имеет никакого смысла. Но есть те которые являются основными и используются чаще всего:

### Навигация
* `pwd` (от англ. **p**rint **w**orking **d**irectory, «показать рабочую папку») — покажи, в какой я папке;
* `ls` (от англ. **l**i**s**t directory contents, «отобразить содержимое директории») — покажи файлы и папки в текущей папке;
* `ls -a` — покажи также скрытые файлы и папки, названия которых начинаются с символа `.`;
* `cd first-project` (от англ. **c**hange **d**irectory, «сменить директорию») — перейди в папку `first-project`;
* `cd first-project/html` — перейди в папку `html`, которая находится в папке `first-project`;
* `cd ..` — перейди на уровень выше, в родительскую папку;
* `cd ~` — перейди в домашнюю директорию (`/Users/Username`);
* `cd /` — перейди в корневую директорию.

### Работа с файлами и папками

#### Создание

* `touch index.html` (англ. touch, «коснуться») — создай файл `index.html` в текущей папке;
* `touch index.html style.css script.js` — если нужно создать сразу несколько файлов, можно напечатать их имена в одну строку через пробел;
* `mkdir second-project` (от англ. **m**a**k**e **dir**ectory, «создать директорию») — создай папку с именем `second-project` в текущей папке.

#### Копирование и перемещение

* `cp file.txt ~/my-dir` (от англ. **c**o**p**y, «копировать») — скопируй файл в другое место;
* `mv file.txt ~/my-dir` (от англ. **m**o***v**e, «переместить») — перемести файл или папку в другое место.

#### Чтение

* `cat file.txt` (от англ. con**cat**enate and print, «объединить и распечатать») — распечатай содержимое текстового файла `file.txt`.

#### Удаление

* `rm about.html` (от англ. **r**e**m**ove, «удалить») — удали файл `about.html`;
* `rmdir images` (от англ. **r**e**m**ove **dir**ectory, «удалить директорию») — удали папку `images`;
* `rm -r second-project` (от англ. **r**e**m**ove, «удалить» + **r**ecursive, «рекурсивный») — удали папку `second-project` и всё, что она содержит.

### Полезные возможности

* Команды необязательно печатать и выполнять по очереди. Можно указать их списком — разделить двумя амперсандами (`&&`).
* У консоли есть собственная память — буфер с несколькими последними командами. По ним можно перемещаться с помощью клавиш со стрелками вверх (`↑`) и вниз (`↓`).
* Чтобы не вводить название файла или папки полностью, можно набрать первые символы имени и дважды нажать `Tab`. Если файл или папка есть в текущей директории, командная строка допишет путь сама.
* Например, вы находитесь в папке `dev`. Начните вводить `cd first` и дважды нажмите `Tab`. Если папка `first-project` есть внутри `dev`, командная строка автоматически подставит её имя. Останется только нажать `Enter`.


## Работа с Git

### Настройка Git

Все глобальные настройки Git хранит в файле `.gitconfig` в домашней директории. 

Можно указать любую электронную почту и любое имя. Сделать это можно с помощью команды `git config` (от англ. *configuration* — «конфигурация», «настройка») с ключом `--globa`l (англ. «глобальный»). При этом не имеет значения, в какой директории вы находитесь прямо сейчас: вызов `git config --global` сработает везде.

Например: 

```
$ git config --global user.name "User Namovich" 
$ git config --global user.email username@yandex.ru
```

### Основные комманды Git
* `git init` - инициализация репозитория 
  
  ```
    $ cd ~/dev/first-project # перешли в нужную папку
    $ git init # создали репозиторий 
  ```
* `rm -rf .git` - «разгитить» папку, если что-то пошло не так
  
  ```
    $ cd <папка с репозиторием> # перешли в папку
    $ rm -rf .git # удалили подпапку .git 
  ```
* `git status` - проверить состояние репозитория
* `git add <файл>`, `git add .`, `git add -all` - подготовить файлы к сохранению.  Команда `git add` не сохраняет содержимое файлов в репозитории. Само сохранение, или фиксацию состояния файлов, называют коммитом (от англ. *commit* — «совершать», «фиксировать»). «Сделать коммит» значит сохранить текущую версию файла. 
  
  ```
    $ git add todo.txt
    $ git add readme.txt
    $ git status 
  ```
  ```
    $ git add --all # подготовили к сохранению все файлы в репозитории
    $ git status # проверили статус 
  ```
  ```
    $ git add . # добавить всю текущую папку
    $ git status 
  ```
* `git commit` - выполнить коммит, с ключом `-m` (от англ. **m**essage — «сообщение») добавит сообщение к коммиту, без ключа выведет информацию о коммите. Коммит — это одна из основных сущностей в Git (и в других системах контроля версий). Коммит гарантирует, что изменения будут сохранены в истории и при необходимости к ним можно будет «откатиться».
  ```
  $ git commit -m 'Мой первый коммит!'
  ``` 
* `git log` - просмотреть историю коммитов. Выводит коммиты в обратном хронологическом порядке — последние коммиты оказываются первыми сверху. В этом можно убедиться, если посмотреть на дату и время их создания.

## Работа с GitHub

### Что такое GitHub

GitHub — платформа для хранения IT-проектов и совместной работы над ними с использованием Git. По сути, это сайт, куда можно загрузить файлы своего проекта для обмена с другими людьми.

### Регистрация на GitHub

1. В правом верхнем углу главной страницы [GitHub](https://github.com/) нажмите на **Sign up** (англ. «зарегистрироваться»).
2. На экране будут последовательно появляться поля для ввода.
    1. Введите адрес электронной почты (англ. *Enter your email*).
    2. Придумайте пароль (англ. *Create a password*).
    3. Введите имя пользователя (англ. *Enter a username*).
3. Платформа спросит, хотите ли вы получать на почту рассылку с обновлениями и новостями (англ. *Would you like to receive product updates and announcements via email?*). Введите `y`, если хотите получать рассылку, или `n`, если не хотите.
4. Нажмите кнопку **Continue** (англ. «продолжить»).
5. GitHub предложит вам пройти капчу. Сделайте это.
6. После прохождения капчи нажмите **Create account** (англ. «создать аккаунт»).
7. Введите короткий код, который будет отправлен на указанный вами почтовый адрес.

### Создание репозитория

1. Зайдите в свой профиль по ссылке `https://github.com/username`, где `username` — имя, которое вы указали при регистрации.
2. Создайте репозиторий. Для этого перейдите на вкладку **Repositories** (англ. «репозитории»), а затем нажмите на зелёную кнопку **New** (англ. «новый») справа.
3. Открылось окно создания нового репозитория. Назовите его `first-project`. Название удалённого репозитория необязательно должно совпадать с именем папки проекта у вас на компьютере. Но чтобы не путаться, будем называть их одинаково.
Нажмите на зелёную кнопку **Create repository** (англ. «создать репозиторий») внизу.

## Настройка SSH

### Что такое SSH
Один из наиболее распространённых сетевых протоколов — **SSH** (от англ. **S**ecure **S**hell **P**rotocol). Он обеспечивает безопасный обмен данными в сети. С помощью этого протокола можно получать данные с удалённого компьютера или отправлять их на него. Трафик шифруется, поэтому протокол безопасен.

SSH использует пару ключей для обеспечения безопасности — публичный и приватный: 
* **Приватный ключ** (англ. *private key*) хранится только на вашем компьютере и не должен передаваться кому-либо ещё. Он используется для расшифровки данных.
* **Публичный ключ** (англ. *public key*) доступен всем и используется для шифрования данных. Они могут быть расшифрованы парным приватным ключом.

Только вы можете расшифровать данные с помощью приватного ключа, но любой владелец публичного ключа может их для вас зашифровать. Эти два ключа связаны и образуют **SSH-пару**.

### Проверка наличия SSH-ключа
Обычно SSH-ключи находятся в домашней директории в поддиректории .ssh/. Проверить наличие этой директории и файлов в ней можно с помощью следующей команды.

```
$ ls -la .ssh/ # вывели список созданных ключей 
```

Если есть файлы с похожими названиями, SSH-ключи уже создавались:

* `id_dsa.pub`;
* `id_ecdsa.pub`;
* `id_ed25519.pub`;
* `id_rsa.pub`.

### Генерация SSH-ключа

1. Для генерации SSH-пары можно использовать программу ssh-keygen. Откройте терминал и введите следующую команду.
   ```
   $ ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
   ```
   Используйте электронную почту, к которой привязан ваш GitHub-аккаунт.
 
   Если вы видите сообщение об ошибке, то, скорее всего, ваша система не поддерживает алгоритм шифрования `ed25519`. Ничего страшного: используйте другой алгоритм.
   
   ```
   $ ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub" 
   ```

    После ввода отобразится такое сообщение.

    ```
    > Generating public/private rsa key pair. # сгенерированы публичный и приватный ключи 
    ```

2. Укажите место хранения ключей. Простой вариант — сделать домашний каталог пользователя путём по умолчанию. Для этого нажмите `Enter`.

    ```
    Enter a file in which to save the key (/Users/you/.ssh/id_rsa): [Press enter] 
    ```
    
3. Программа запросит **кодовую фразу** (англ. *passphrase*) для доступа к SSH-ключу. Вы можете оставить поле пустым. Для этого нажмите `Enter`, а затем ещё раз `Enter` для подтверждения.

    ```
    > Enter passphrase (empty for no passphrase): [Type a passphrase]
    > Enter same passphrase again: [Type passphrase again] 
    ```

4. Проверить, что ключи действительно сгенерировались. Для этого вызовите эту команду.

    ```
    ls -a ~/.ssh
    ```

    На экране должны появиться два файла — один с расширением `.pub`, другой — без. Файл в `.pub` — публичный, им можно делиться с веб-сайтами или коллегами. Файл без расширения `.pub` — приватный.


## Синхронизация локального и удалённого репозиториев

### Основная ветка

Каждый коммит сохраняет актуальное состояние файлов. Сами же коммиты хранятся в **ветках** (англ. *branch*).

Если коммит — это снимок состояния файлов, то ветка — временна́я шкала, на которой расположены эти снимки. Ветка всегда начинается от одного из коммитов.

В репозитории может существовать сразу несколько веток — параллельных историй изменений. Также они могут соединяться друг с другом.

Самая первая ветка в репозитории появляется автоматически и называется `main` (англ. «основная») или `master`. Её имя нужно указывать при отправке коммитов на удалённый репозиторий или при получении их из него.

### Отправить изменения на удалённый репозиторий

За это отвечает команда `git push` (от англ. push — «толкать»).

В первый раз эту команду нужно вызвать с флагом `-u` и параметрами `origin` (имя удалённого репозитория) и `main` или `master` (название текущей ветки). Флаг `-u` свяжет локальную ветку с одноимённой удалённой. Как вы связывали локальный и удалённый репозитории в предыдущем уроке, так же и здесь нужно дополнительно связать ветки.

```
$ git push -u origin main # Если команда приведёт к ошибке, попробуйте 
                          # заменить main на master. 
```

## Файл README.md

Чтобы другие пользователи, а также потенциальные клиенты или работодатели могли понять, что представляет собой проект, его нужно описать. Такое описание принято указывать в файле `README.md` (от англ. *read* — «прочитай» и *me* — «меня»).

Как правило, в README.md проекта можно найти следующую информацию:
1. Название проекта и его краткое описание: кем создан, для чего, какие решает задачи и какие закрывает проблемы.
2. Технологии, которые применяются в проекте. В чём его отличие от аналогичных.
3. Документация проекта — подробная инструкция о том, что представляет собой проект.
4. Планы проекта, если они есть.

`README.md` — текстовый файл, который можно создать командой touch, а затем редактировать так же, как и любой другой текстовый документ. Например, в блокноте.

Преимущество `README.md` в том, что средства командной работы (такие, как GitHub) могут отображать его содержимое в браузере в виде удобной разметки. Для этого нужно не просто залить текст, но и настроить шрифт, заголовки и отступы с помощью markdown. **Маркда́ун** — это специальный язык разметки. Он позволяет красиво отформатировать текстовый документ.

Подробнее узнать о синтаксисе **Маркда́ун** можно заглянув в руководства по маркдауну — например, в [шпаргалку на GitHub](https://gist.github.com/fomvasss/8dd8cd7f88c67a4e3727f9d39224a84c) или в [этот гайд](https://www.markdownguide.org/cheat-sheet/).